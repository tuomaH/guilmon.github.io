<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'><style type='text/css'>html {overflow-x: initial !important;}</style>
<style type='text/css'  id="style-base">:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; --title-bar-height: 20px; }
.mac-os-11 { --title-bar-height: 28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, "Segoe UI Emoji", "SF Pro", sans-serif; -webkit-font-smoothing: antialiased; }
h1, h2, h3, h4, h5 { white-space: pre-wrap; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.428571; overflow-x: hidden; background: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p *, #write.first-line-indent svg * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-width: inherit; font-size: inherit; line-height: inherit; font-family: inherit; font-size-adjust: inherit; font-kerning: inherit; font-variant-alternates: inherit; font-variant-ligatures: inherit; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-variant-position: inherit; font-variant-emoji: inherit; font-feature-settings: inherit; font-optical-sizing: inherit; font-variation-settings: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; position: relative; }
#write svg h1, #write svg h2, #write svg h3, #write svg h4, #write svg h5, #write svg h6, #write svg p { position: static; white-space: nowrap; overflow: visible; }
foreignObject { overflow: visible; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
li p { orphans: 1; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
thead, tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; border-right-style: none; border-right-color: currentcolor; background-color: inherit; }
.CodeMirror-linenumber { -webkit-user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
svg { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }
  .typora-export * { print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  #write > p:nth-child(1) { margin-top: 0px; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
  figure { overflow-x: visible; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: medium; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.reversefootnote { font-family: ui-monospace, sans-serif; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: medium !important; border-style: none !important; border-color: currentcolor !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; border-bottom-style: none; border-bottom-color: currentcolor; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: medium; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.mermaid-svg { margin: auto; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.428571rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left-width: 28px; border-left-style: solid; border-left-color: transparent; border-right-width: 28px; border-right-style: solid; border-right-color: transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right-width: 8px; border-right-style: solid; border-right-color: transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }
mjx-container { break-inside: avoid; }
.md-alert.md-alert-note { border-left-color: rgb(9, 105, 218); }
.md-alert.md-alert-important { border-left-color: rgb(130, 80, 223); }
.md-alert.md-alert-warning { border-left-color: rgb(154, 103, 0); }
.md-alert.md-alert-tip { border-left-color: rgb(31, 136, 61); }
.md-alert.md-alert-caution { border-left-color: rgb(207, 34, 46); }
.md-alert { padding: 0px 1em; margin-bottom: 16px; color: inherit; border-left-width: 0.25em; border-left-style: solid; border-left-color: rgb(0, 0, 0); }
.md-alert-text-note { color: rgb(9, 105, 218); }
.md-alert-text-important { color: rgb(130, 80, 223); }
.md-alert-text-warning { color: rgb(154, 103, 0); }
.md-alert-text-tip { color: rgb(31, 136, 61); }
.md-alert-text-caution { color: rgb(207, 34, 46); }
.md-alert-text { font-size: 0.9rem; font-weight: 700; }
.md-alert-text svg { fill: currentcolor; position: relative; top: 0.125em; margin-right: 1ch; overflow: visible; }
.md-alert-text-container::after { content: attr(data-text); text-transform: capitalize; pointer-events: none; margin-right: 1ch; }

</style>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&amp;subset=latin,latin-ext' type='text/css' />
<style type='text/css'  id="style-theme_css">:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', 'SF Pro', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    pre {
        page-break-inside: avoid;
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.mac-os #write{
    caret-color: AccentColor;
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}
</style>
<style type='text/css'  id="style-mathjax">
mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
  min-height: 1px;
  min-width: 1px;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

mjx-container[jax="SVG2"] path[data-c], mjx-container[jax="SVG2"] use[data-c] {
  stroke-width: 3;
}

g[data-mml-node="xypic"] path {
  stroke-width: inherit;
}

.MathJax g[data-mml-node="xypic"] path {
  stroke-width: inherit;
}
</style>
<style type='text/css'  id="style-mathjax-ni">mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
							stroke-width: 0;
						}</style>
<style type='text/css'  id="style-lp">ol, ul {padding-left: 40px}</style>
<style type='text/css'  id="style-mac-print"> @media print { @page {margin: 0 0 0 0;} body.typora-export {padding-left: 0; padding-right: 0;} #write {padding:0;}}</style>

<title>R module笔记</title>
</head>
<body class='typora-export'><div class='typora-export-content'>
<div id='write'  class=''><h3 id='11-r语言入门'><span>1.1. R语言入门</span></h3><h4 id='111-r语言简介与历史'><strong><span>1.1.1 R语言简介与历史</span></strong></h4><ul><li><p><strong><span>起源</span></strong><span>: R语言是S编程语言的一种实现，在许多方面都优于原始的S系统 。S语言是由John M. Chambers等人在20世纪70年代末至80年代初于贝尔实验室开发的统计编程语言。</span></p></li><li><p><strong><span>开发者</span></strong><span>: R最初由新西兰奥克兰大学的研究员Ross Ihaka和Robert Gentleman编写，现在由R核心团队进行维护。</span></p></li><li><p><strong><span>核心特性</span></strong><span>:</span></p><ul><li><p><strong><span>免费与开源</span></strong><span>: R是免费软件，您可以免费获取它，并且其源代码是公开的 。这意味着用户可以研究其内部工作原理并根据需要进行修改。</span></p></li><li><p><strong><span>可扩展性</span></strong><span>: R是可扩展的，用户可以从CRAN（Comprehensive R Archive Network）获取大量的扩展包 。目前有超过15,000个扩展包可用。</span></p></li></ul></li></ul><h4 id='112-为何使用r'><strong><span>1.1.2 为何使用R？</span></strong></h4><ul><li><p><strong><span>行业地位</span></strong><span>: R与Python是当今统计学和数据科学领域的关键平台。</span></p></li><li><p><strong><span>功能强大</span></strong><span>: R拥有一个非常优秀的图形引擎和海量的扩展包，几乎涵盖了所有的统计方法。</span></p></li><li><p><strong><span>灵活性</span></strong><span>:</span></p><ul><li><p><span>R是一个命令行程序，通过键入命令来控制 。虽然这看起来“老式”，但对于可执行数十万种不同任务的R来说，菜单驱动的图形界面（GUI）是不切实际的 。</span></p></li><li><p><span>与菜单驱动的软件相比，命令行程序更加灵活，您可以通过编写自己的程序来完成前人未曾想过或做过的事情 。</span></p></li></ul></li><li><p><strong><span>学习编程的基石</span></strong><span>: 编程语言之间非常相似  。掌握了R语言编程后，学习其他语言（如C, C++, Java, Python等）会变得容易得多 。</span></p></li></ul><h4 id='113-r语言的技术特性'><strong><span>1.1.3 R语言的技术特性</span></strong></h4><ul><li><p><strong><span>解释型语言 (Interpreted Language)</span></strong><span>: R代码是逐行执行的，无需像C或Java那样先进行“编译”  。这使得调试过程更简单，因为代码可以交互式地逐行运行  。不过，这通常会带来性能上的损失，编译型语言速度更快  。为了弥补这一点，R中的许多操作（如矩阵乘法）底层是用Fortran或C实现的 。</span></p></li><li><p><strong><span>动态类型语言 (Dynamically-typed Language)</span></strong><span>: 与C++或Java不同，R不需要在使用变量前声明其类型 。</span></p></li><li><p><strong><span>面向对象 (Object-Oriented)</span></strong><span>: 在R中，数据结构的行为会因其类型而异  。例如，</span><code>summary()</code><span>方法会根据对象的类型提供不同的摘要信息，</span><code>plot()</code><span>方法会根据对象类型绘制不同的图形 。</span></p></li><li><p><strong><span>垃圾回收 (Garbage-Collected)</span></strong><span>: R会自动管理内存  。不再被引用的对象会被自动从内存中移除（即“垃圾回收”） 。</span></p></li></ul><hr /><h3 id='12-r与rstudio的安装和使用'><span>1.2. R与RStudio的安装和使用</span></h3><h4 id='121-软件安装'><strong><span>1.2.1 软件安装</span></strong></h4><ul><li><p><strong><span>安装R</span></strong><span>: 您可以从CRAN (</span><a href='https://cran.r-project.org/'><span>https://cran.r-project.org/</span></a><span>) 免费下载标准版的R  。R支持Windows, Mac OS和Linux等多个平台 。</span></p></li><li><p><strong><span>安装RStudio</span></strong><span>: 强烈建议安装RStudio Desktop，它是一个功能强大的R集成开发环境（IDE） 。</span></p><ul><li><p><strong><span>优势</span></strong><span>: RStudio拥有一个更强大的代码编辑器，具备语法高亮等功能，使代码更易读 。</span></p></li><li><p><strong><span>前提</span></strong><span>: RStudio只是R的一个前端界面，因此必须先安装R才能使用RStudio 。</span></p></li><li><p><strong><span>下载</span></strong><span>: 您可以从RStudio官网 (</span><a href='https://www.rstudio.com/products/rstudio/download/'><span>https://www.rstudio.com/products/rstudio/download/</span></a><span>) 免费下载开源桌面版 。</span></p></li></ul></li></ul><h4 id='122-rstudio界面与使用'><strong><span>1.2.2 RStudio界面与使用</span></strong></h4><ul><li><p><strong><span>基本布局</span></strong><span>:</span></p><ul><li><p><strong><span>左上</span></strong><span>: </span><strong><span>脚本编辑器 (Editor)</span></strong><span>，建议在此处编写R命令 。</span></p></li><li><p><strong><span>左下</span></strong><span>: </span><strong><span>控制台 (Console)</span></strong><span>，可以直接输入命令，但更推荐使用编辑器 。</span></p></li><li><p><strong><span>右上</span></strong><span>: </span><strong><span>环境/历史 (Environment/History)</span></strong><span>，显示当前工作区中的对象列表和历史命令 。</span></p></li><li><p><strong><span>右下</span></strong><span>: </span><strong><span>文件/绘图/包/帮助 (Files/Plots/Packages/Help)</span></strong><span>，分别用于显示文件、图形、已安装的包和帮助文档 。</span></p></li></ul></li><li><p><strong><span>执行代码</span></strong><span>: 在编辑器中选中要运行的命令，然后点击&quot;Run&quot;按钮或按</span><code>Ctrl-Enter</code><span>键 。</span></p></li><li><p><strong><span>实用功能</span></strong><span>:</span></p><ul><li><p><strong><span>语法高亮</span></strong><span>: 代码根据R的语法规则自动显示不同颜色，便于阅读 。</span></p></li><li><p><strong><span>括号匹配</span></strong><span>: 输入一个闭合括号时，对应的开放括号会被高亮显示 。</span></p></li><li><p><strong><span>自动补全</span></strong><span>: 输入函数或变量名时，按</span><code>Tab</code><span>键可以自动补全或显示选项菜单 。</span></p></li><li><p><strong><span>快速帮助</span></strong><span>: 输入函数名后按</span><code>F1</code><span>键，可以打开该函数的帮助文档 。</span></p></li></ul></li></ul><h4 id='123-r包-packages'><strong><span>1.2.3 R包 (Packages)</span></strong></h4><ul><li><p><strong><span>作用</span></strong><span>: R包是“附加组件”，提供了R基础功能之外的扩展功能 。</span></p></li><li><p><strong><span>安装包</span></strong><span>:</span></p><ul><li><p><span>使用命令: 在控制台输入 </span><code>install.packages(&quot;包的名称&quot;)</code><span>  。例如，</span><code>install.packages(&quot;mgcv&quot;)</code><span>  。这会自动下载并安装该包及其所有依赖项 。</span></p></li><li><p><span>使用界面: 在右下角的&quot;Packages&quot;标签页中点击&quot;Install&quot; 。</span></p></li></ul></li><li><p><strong><span>加载包</span></strong><span>: 安装后，必须使用 </span><code>library(包的名称)</code><span> 命令加载包，才能使用其中的函数 。</span></p></li><li><p><strong><span>常见错误</span></strong><span>: 如果运行 </span><code>library()</code><span> 时出现 &quot;there is no package called &#39;somepackage&#39;&quot; 的错误，说明该包尚未安装，需要先进行安装 。</span></p></li></ul><hr /><h3 id='13-r的计算能力与局限性'><span>1.3. R的计算能力与局限性</span></h3><h4 id='131-强大的计算能力'><strong><span>1.3.1 强大的计算能力</span></strong></h4><ul><li><p><span>现代计算机的计算能力和数据存储技术的进步是数据科学崛起的驱动力 。</span></p></li><li><p><strong><span>示例</span></strong><span>:</span></p><ul><li><p><strong><span>矩阵乘法</span></strong><span>: 一个中端i5处理器在R中计算两个 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="11.815ex" height="1.557ex" role="img" focusable="false" viewBox="0 -666 5222.4 688" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-11-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-11-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-11-TEX-N-D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-11-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-11-TEX-N-30" transform="translate(500,0)"></use><use data-c="30" xlink:href="#MJX-11-TEX-N-30" transform="translate(1000,0)"></use><use data-c="30" xlink:href="#MJX-11-TEX-N-30" transform="translate(1500,0)"></use></g><g data-mml-node="mo" transform="translate(2222.2,0)"><use data-c="D7" xlink:href="#MJX-11-TEX-N-D7"></use></g><g data-mml-node="mn" transform="translate(3222.4,0)"><use data-c="31" xlink:href="#MJX-11-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-11-TEX-N-30" transform="translate(500,0)"></use><use data-c="30" xlink:href="#MJX-11-TEX-N-30" transform="translate(1000,0)"></use><use data-c="30" xlink:href="#MJX-11-TEX-N-30" transform="translate(1500,0)"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1000</mn><mo>×</mo><mn>1000</mn></math></mjx-assistive-mml></mjx-container><script type="math/tex">1000 \times 1000</script><span> 矩阵的乘法仅需不到一秒钟  。而一个“人类计算机”以每秒一次浮点运算的速度计算，需要超过32年 。</span></p></li><li><p><strong><span>排序</span></strong><span>: R对一百万个数值进行排序，也仅需不到一秒钟的时间 。</span></p></li></ul></li></ul><h4 id='132-计算机的计算局限性'><strong><span>1.3.2 计算机的计算局限性</span></strong></h4><ul><li><p><strong><span>不要盲目信任</span></strong><span>: 计算机并非绝对可靠，它们只有有限的精度，我们不应盲目相信其计算结果 。</span></p></li><li><p><strong><span>浮点数精度问题</span></strong><span>:</span></p><ul><li><p><strong><span>加法交换律失效</span></strong><span>: 在R中，</span><code>10^20 - 10^20 + 1</code><span> 的结果是1，但 </span><code>1 + 10^20 - 10^20</code><span> 的结果却是0  。这是因为计算机认为 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="15.014ex" height="2.14ex" role="img" focusable="false" viewBox="0 -864 6636.2 946" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.186ex;"><defs><path id="MJX-12-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-12-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-12-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-12-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-12-TEX-N-2248" d="M55 319Q55 360 72 393T114 444T163 472T205 482Q207 482 213 482T223 483Q262 483 296 468T393 413L443 381Q502 346 553 346Q609 346 649 375T694 454Q694 465 698 474T708 483Q722 483 722 452Q722 386 675 338T555 289Q514 289 468 310T388 357T308 404T224 426Q164 426 125 393T83 318Q81 289 69 289Q55 289 55 319ZM55 85Q55 126 72 159T114 210T163 238T205 248Q207 248 213 248T223 249Q262 249 296 234T393 179L443 147Q502 112 553 112Q609 112 649 141T694 220Q694 249 708 249T722 217Q722 153 675 104T555 55Q514 55 468 76T388 123T308 170T224 192Q164 192 125 159T83 84Q80 55 69 55Q55 55 55 85Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-12-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(722.2,0)"><use data-c="2B" xlink:href="#MJX-12-TEX-N-2B"></use></g><g data-mml-node="msup" transform="translate(1722.4,0)"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-12-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-12-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-12-TEX-N-32"></use><use data-c="30" xlink:href="#MJX-12-TEX-N-30" transform="translate(500,0)"></use></g></g></g><g data-mml-node="mo" transform="translate(3790.3,0)"><use data-c="2248" xlink:href="#MJX-12-TEX-N-2248"></use></g><g data-mml-node="msup" transform="translate(4846.1,0)"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-12-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-12-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-12-TEX-N-32"></use><use data-c="30" xlink:href="#MJX-12-TEX-N-30" transform="translate(500,0)"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>+</mo><msup><mn>10</mn><mrow data-mjx-texclass="ORD"><mn>20</mn></mrow></msup><mo>≈</mo><msup><mn>10</mn><mrow data-mjx-texclass="ORD"><mn>20</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">1+10^{20} \approx 10^{20}</script><span>，因为1相对于 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.05ex" height="2.005ex" role="img" focusable="false" viewBox="0 -864 1790.1 886" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-13-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-13-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-13-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-13-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-13-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="32" xlink:href="#MJX-13-TEX-N-32"></use><use data-c="30" xlink:href="#MJX-13-TEX-N-30" transform="translate(500,0)"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>10</mn><mrow data-mjx-texclass="ORD"><mn>20</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">10^{20}</script><span> 来说太小而被忽略了 。</span></p></li><li><p><strong><span>二进制表示误差</span></strong><span>: 计算机内部大多使用二进制系统  。像0.1或0.3这样的数在二进制中没有精确的有限表示，会导致舍入误差  。因此，</span><code>0.1 + 0.1 + 0.1 - 0.3</code><span> 的结果不是0，而是一个非常接近0的小数 。</span></p></li></ul></li><li><p><strong><span>IEEE 754标准</span></strong><span>:</span></p><ul><li><p><span>R使用IEEE 754双精度浮点数来表示数字 。</span></p></li><li><p><strong><span>溢出 (Overflow)</span></strong><span>: 当计算结果超过计算机能表示的最大数（约 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="12.769ex" height="2.005ex" role="img" focusable="false" viewBox="0 -864 5644.1 886" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-14-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-14-TEX-N-2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path><path id="MJX-14-TEX-N-37" d="M55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458Z"></path><path id="MJX-14-TEX-N-39" d="M352 287Q304 211 232 211Q154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606Q171 666 243 666Q245 666 249 666T257 665H261Q273 665 286 663T323 651T370 619T413 560Q456 472 456 334Q456 194 396 97Q361 41 312 10T208 -22Q147 -22 108 7T68 93T121 149Q143 149 158 135T173 96Q173 78 164 65T148 49T135 44L131 43Q131 41 138 37T164 27T206 22H212Q272 22 313 86Q352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542Q341 552 337 562T323 588T293 615T246 625Q208 625 181 598Q160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z"></path><path id="MJX-14-TEX-N-22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path><path id="MJX-14-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-14-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-14-TEX-N-38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-14-TEX-N-31"></use><use data-c="2E" xlink:href="#MJX-14-TEX-N-2E" transform="translate(500,0)"></use><use data-c="37" xlink:href="#MJX-14-TEX-N-37" transform="translate(778,0)"></use><use data-c="39" xlink:href="#MJX-14-TEX-N-39" transform="translate(1278,0)"></use><use data-c="37" xlink:href="#MJX-14-TEX-N-37" transform="translate(1778,0)"></use><use data-c="37" xlink:href="#MJX-14-TEX-N-37" transform="translate(2278,0)"></use></g><g data-mml-node="mo" transform="translate(3000.2,0)"><use data-c="22C5" xlink:href="#MJX-14-TEX-N-22C5"></use></g><g data-mml-node="msup" transform="translate(3500.4,0)"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-14-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-14-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use data-c="33" xlink:href="#MJX-14-TEX-N-33"></use><use data-c="30" xlink:href="#MJX-14-TEX-N-30" transform="translate(500,0)"></use><use data-c="38" xlink:href="#MJX-14-TEX-N-38" transform="translate(1000,0)"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.7977</mn><mo>⋅</mo><msup><mn>10</mn><mrow data-mjx-texclass="ORD"><mn>308</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">1.7977 \cdot 10^{308}</script><span>）时，会发生溢出  。在R中，结果会被设为 </span><code>Inf</code><span> (无穷大) 。</span></p></li><li><p><strong><span>特殊值</span></strong><span>: R支持 </span><code>Inf</code><span>, </span><code>-Inf</code><span> 和 </span><code>NaN</code><span> (Not a Number，不是一个数) 等特殊值  。例如，</span><code>1/0</code><span> 结果为 </span><code>Inf</code><span>  ，而 </span><code>Inf / Inf</code><span> 结果为 </span><code>NaN</code><span>  。</span><code>sqrt(-1)</code><span> 也会产生 </span><code>NaN</code><span> 。</span></p></li></ul></li></ul><hr /><h3 id='14-r的基础语法'><span>1.4. R的基础语法</span></h3><h4 id='141-r作为计算器'><strong><span>1.4.1 R作为计算器</span></strong></h4><ul><li><p><strong><span>基本算术运算符</span></strong><span>:</span></p></li></ul><figure class='table-figure'><table><thead><tr><th style='text-align:left;' ><span>运算符</span></th><th style='text-align:left;' ><span>含义</span></th><th style='text-align:left;' ><span>示例</span></th><th style='text-align:left;' ><span>结果</span></th></tr></thead><tbody><tr><td style='text-align:left;' ><code>+</code></td><td style='text-align:left;' ><span>加法</span></td><td style='text-align:left;' ><code>3+2</code></td><td style='text-align:left;' ><span>5</span></td></tr><tr><td style='text-align:left;' ><code>-</code></td><td style='text-align:left;' ><span>减法</span></td><td style='text-align:left;' ><code>3-2</code></td><td style='text-align:left;' ><span>1</span></td></tr><tr><td style='text-align:left;' ><code>*</code></td><td style='text-align:left;' ><span>乘法</span></td><td style='text-align:left;' ><code>3*2</code></td><td style='text-align:left;' ><span>6</span></td></tr><tr><td style='text-align:left;' ><code>/</code></td><td style='text-align:left;' ><span>除法</span></td><td style='text-align:left;' ><code>5/2</code></td><td style='text-align:left;' ><span>2.5</span></td></tr><tr><td style='text-align:left;' ><code>^</code><span> 或 </span><code>**</code></td><td style='text-align:left;' ><span>幂运算</span></td><td style='text-align:left;' ><code>5^2</code></td><td style='text-align:left;' ><span>25</span></td></tr><tr><td style='text-align:left;' ><code>%/%</code></td><td style='text-align:left;' ><span>整除</span></td><td style='text-align:left;' ><code>5%/%2</code></td><td style='text-align:left;' ><span>2</span></td></tr><tr><td style='text-align:left;' ><code>%%</code></td><td style='text-align:left;' ><span>取余</span></td><td style='text-align:left;' ><code>5%%2</code></td><td style='text-align:left;' ><span>1</span></td></tr></tbody></table></figure><ul><li><p><strong><span>运算符优先级</span></strong><span>: R遵循特定的运算顺序：首先是 </span><code>^</code><span>，然后是 </span><code>*</code><span> 和 </span><code>/</code><span>，最后是 </span><code>+</code><span> 和 </span><code>-</code><span>  。当优先级相同时，从左到右计算。为了控制运算顺序，应使用括号 </span><code>()</code><span> 。</span></p></li><li><p><strong><span>数学函数与常量</span></strong><span>: R内置了大量数学函数，如 </span><code>sqrt()</code><span> (平方根), </span><code>exp()</code><span> (指数), </span><code>log()</code><span> (对数), </span><code>sin()</code><span> (正弦)等  。常量 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="1.919ex" height="1.934ex" role="img" focusable="false" viewBox="0 -661 848 855" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.439ex;"><defs><path id="MJX-15-TEX-I-1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path id="MJX-15-TEX-I-1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D45D" xlink:href="#MJX-15-TEX-I-1D45D"></use></g><g data-mml-node="mi" transform="translate(503,0)"><use data-c="1D456" xlink:href="#MJX-15-TEX-I-1D456"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mi>i</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">pi</script><span> 可以通过 </span><code>pi</code><span> 直接使用 。</span></p></li></ul><h4 id='142-变量与赋值'><strong><span>1.4.2 变量与赋值</span></strong></h4><ul><li><p><strong><span>赋值操作</span></strong><span>: 为了重用计算结果，需要将其赋值给一个变量 。</span></p><ul><li><p><span>R中首选的赋值符号是 </span><code>&lt;-</code><span>  。例如：</span><code>a &lt;- 2/3*2</code><span> 。</span></p></li><li><p><span>虽然 </span><code>=</code><span> 也可以使用，但在某些情况下与 </span><code>&lt;-</code><span> 不同 。</span></p></li></ul></li><li><p><strong><span>变量命名</span></strong><span>:</span></p><ul><li><p><span>变量名区分大小写，</span><code>a</code><span> 和 </span><code>A</code><span> 是两个不同的变量 。</span></p></li><li><p><span>传统上，R用户习惯用小写字母，并用点 </span><code>.</code><span> 分隔单词 (如 </span><code>two.words</code><span>)，但下划线 </span><code>_</code><span> 也越来越流行 。</span></p></li></ul></li><li><p><strong><span>使用变量</span></strong><span>: 要查看变量的值，只需在控制台输入变量名即可  。赋值操作是即时的，后续改变原变量的值不会影响已赋值的新变量  。例如，执行 </span><code>a &lt;- 10</code><span>，然后 </span><code>b &lt;- a/5</code><span>，之后再执行 </span><code>a &lt;- a + 30</code><span>，</span><code>b</code><span> 的值仍然是2 。</span></p></li><li><p><strong><span>查看变量</span></strong><span>: 使用 </span><code>ls()</code><span> 命令可以列出当前工作区中的所有变量 。</span></p></li></ul><h4 id='143-逻辑变量与比较'><strong><span>1.4.3 逻辑变量与比较</span></strong></h4><ul><li><p><strong><span>逻辑值</span></strong><span>: 逻辑变量只能取 </span><code>TRUE</code><span> (真) 或 </span><code>FALSE</code><span> (假) 这两个值 。</span></p></li><li><p><strong><span>逻辑运算符</span></strong><span>:</span></p><ul><li><p><code>!</code><span> (逻辑非，NOT) </span></p></li><li><p><code>&amp;</code><span> (逻辑与，AND) </span></p></li><li><p><code>|</code><span> (逻辑或，OR) </span></p></li><li><p><strong><span>优先级</span></strong><span>: </span><code>&amp;</code><span> 的优先级高于 </span><code>|</code><span> 。</span></p></li><li><p><strong><span>惰性求值</span></strong><span>: </span><code>&amp;&amp;</code><span> 和 </span><code>||</code><span> 是“惰性”运算符，仅在需要时才评估第二个表达式，通常用于 </span><code>if</code><span> 条件判断，不应用于向量 。</span></p></li></ul></li><li><p><strong><span>慎用 </span><code>T</code><span> 和 </span><code>F</code></strong><span>: 虽然可以用 </span><code>T</code><span> 和 </span><code>F</code><span> 分别代表 </span><code>TRUE</code><span> 和 </span><code>FALSE</code><span>，但强烈不推荐这样做。因为 </span><code>T</code><span> 和 </span><code>F</code><span> 是可以被用户重新赋值的变量，可能会导致意外的错误。</span></p></li><li><p><strong><span>比较运算符</span></strong><span>:</span></p><ul><li><p><span>包括 </span><code>==</code><span> (等于), </span><code>!=</code><span> (不等于), </span><code>&lt;</code><span>, </span><code>&lt;=</code><span>, </span><code>&gt;</code><span>, </span><code>&gt;=</code><span> 。</span></p></li><li><p><span>这些运算符返回一个逻辑值 (</span><code>TRUE</code><span> 或 </span><code>FALSE</code><span>) 。</span></p></li></ul></li><li><p><strong><span>比较浮点数</span></strong><span>: 由于舍入误差，不应使用 </span><code>==</code><span> 来直接比较非整数  。例如，</span><code>0.3 - 2 * 0.1 == 0.1</code><span> 在R中返回 </span><code>FALSE</code><span> 。正确的做法是判断两个数的绝对差是否小于一个极小的阈值（如 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.495ex" height="2.005ex" role="img" focusable="false" viewBox="0 -864 1986.7 886" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.05ex;"><defs><path id="MJX-16-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-16-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-16-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-16-TEX-N-38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-16-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-16-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="TeXAtom" transform="translate(1033,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><use data-c="2212" xlink:href="#MJX-16-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(778,0)"><use data-c="38" xlink:href="#MJX-16-TEX-N-38"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>10</mn><mrow data-mjx-texclass="ORD"><mo>−</mo><mn>8</mn></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">10^{-8}</script><span>） ，或者使用 </span><code>all.equal()</code><span> 函数 。</span></p></li></ul><h3 id='21-r中的向量-vectors'><span>2.1. R中的向量 (Vectors)</span></h3><h4 id='211-向量的基本概念'><strong><span>2.1.1 向量的基本概念</span></strong></h4><ul><li><p><span>在R中，所有变量本质上都是向量 。</span></p></li><li><p><span>我们通常所说的标量（只包含一个值的变量）在R中实际上是长度为1的向量 。</span></p></li></ul><h4 id='212-创建与合并向量'><strong><span>2.1.2 创建与合并向量</span></strong></h4><ul><li><p><strong><span>创建向量</span></strong><span>: 创建向量最简单的方法是使用 </span><code>c()</code><span> 函数 。</span></p><ul><li><p><span>例如：</span><code>a &lt;- c(1, 4, 2)</code><span> 。</span></p></li></ul></li><li><p><strong><span>合并向量 (Concatenate)</span></strong><span>: 同样可以使用 </span><code>c()</code><span> 函数将两个或多个向量“粘”在一起 。</span></p><ul><li><p><span>例如：</span><code>c(a, b)</code><span> 会将向量a和b合并成一个新向量 。</span></p></li></ul></li><li><p><strong><span>命名向量元素</span></strong><span>:</span></p><ul><li><p><span>可以为向量的每个元素赋予名称，这在处理有实际意义的数据时非常有用 。</span></p></li><li><p><strong><span>方法一</span></strong><span>: 使用 </span><code>names()</code><span> 函数进行赋值 。</span></p><ul><li><p><code>names(a) &lt;- c(&quot;first&quot;, &quot;second&quot;, &quot;third&quot;)</code><span> 。</span></p></li></ul></li><li><p><strong><span>方法二</span></strong><span>: 在创建向量时直接命名 。</span></p><ul><li><p><code>a &lt;- c(first=1, second=4, third=2)</code><span> 。</span></p></li></ul></li></ul></li></ul><h4 id='213-访问与修改向量元素'><strong><span>2.1.3 访问与修改向量元素</span></strong></h4><ul><li><p><strong><span>访问单个元素</span></strong><span>: 使用方括号 </span><code>[]</code><span> 和索引值来访问向量的特定元素 。</span></p><ul><li><p><code>x[i]</code><span> 返回向量x的第i个元素 。</span></p></li><li><p><span>如果向量有命名，也可以通过名称来访问，例如 </span><code>a[&quot;third&quot;]</code><span> 。</span></p></li></ul></li><li><p><strong><span>修改单个元素</span></strong><span>: 同样使用方括号 </span><code>[]</code><span> 来修改元素的值 。</span></p><ul><li><p><code>a[3] &lt;- 10</code><span> 会将向量a的第三个元素修改为10 。</span></p></li><li><p><span>如果指定的索引超出了向量的当前长度，R会自动扩展向量，并在中间填充</span><code>NA</code><span>（缺失值） 。</span></p></li></ul></li></ul><h4 id='214-向量的子集-subsetting'><strong><span>2.1.4 向量的子集 (Subsetting)</span></strong></h4><ul><li><p><span>方括号 </span><code>[]</code><span> 不仅能访问单个元素，还能用于提取向量的子集 。有三种主要方法：</span></p><ol start='' ><li><p><strong><span>使用正整数索引</span></strong><span>: 提供一个包含所需元素索引的向量 。</span></p><ul><li><p><code>a[c(1, 2, 3)]</code><span> 。</span></p></li></ul></li><li><p><strong><span>使用负整数索引</span></strong><span>: 提供一个包含要移除元素索引的向量 。</span></p><ul><li><p><code>a[-4]</code><span> 。</span></p></li></ul></li><li><p><strong><span>使用逻辑向量</span></strong><span>: 提供一个与原向量等长的逻辑向量（</span><code>TRUE</code><span>/</span><code>FALSE</code><span>），R会返回所有对应值为</span><code>TRUE</code><span>的元素 。</span></p><ul><li><p><code>a[c(TRUE, TRUE, TRUE, FALSE)]</code><span> 。</span></p></li><li><p><span>这个特性在根据条件筛选向量时非常有用，例如 </span><code>a[a%%2==0]</code><span> 会返回向量a中所有能被2整除的元素 。</span></p></li></ul></li></ol></li></ul><h4 id='215-向量化计算-vectorised-calculations'><strong><span>2.1.5 向量化计算 (Vectorised Calculations)</span></strong></h4><ul><li><p><strong><span>元素级运算</span></strong><span>: 当对向量使用算术运算符或数学函数时，计算会逐个元素地进行 。</span></p><ul><li><p><span>例如 </span><code>c &lt;- 2*a + b</code><span>，结果向量c的第i个元素等于 </span><code>2*a[i] + b[i]</code><span> 。</span></p></li></ul></li><li><p><strong><span>循环法则 (Recycling Rule)</span></strong><span>:</span></p><ul><li><p><span>当两个长度不同的向量进行运算时，R会自动重复（“循环”）较短的向量，直到其长度与较长的向量匹配 。</span></p></li><li><p><span>例如 </span><code>c(1,2,3,4) * c(2,0)</code><span> 的计算过程是 </span><code>c(1,2,3,4) * c(2,0,2,0)</code><span> 。</span></p></li><li><p><strong><span>警告</span></strong><span>: 如果长向量的长度不是短向量长度的整数倍，R会执行计算但会给出一个警告信息 。这个警告通常意味着代码可能存在错误 。</span></p></li></ul></li></ul><h4 id='216-序列与重复向量'><strong><span>2.1.6 序列与重复向量</span></strong></h4><ul><li><p><strong><span>创建序列 (Sequences)</span></strong><span>:</span></p><ul><li><p><span>使用冒号运算符 </span><code>:</code><span> 创建简单的整数序列，例如 </span><code>2:5</code><span> 。</span></p></li><li><p><span>使用 </span><code>seq()</code><span> 函数创建更复杂的序列 。</span></p><ul><li><p><code>seq(from, to, by=...)</code><span>：指定步长 。</span></p></li><li><p><code>seq(from, to, length.out=...)</code><span>：指定序列的总长度 。</span></p></li></ul></li></ul></li><li><p><strong><span>创建重复向量 (Repeats)</span></strong><span>:</span></p><ul><li><p><span>使用 </span><code>rep()</code><span> 函数来重复向量或其元素。</span></p></li><li><p><code>rep(x, times=n)</code><span>: 将整个向量x重复n次 。</span></p></li><li><p><code>rep(x, each=n)</code><span>: 将向量x中的每个元素分别重复n次 。</span></p></li></ul></li></ul><hr /><h3 id='22-r中的矩阵-matrices'><span>2.2 R中的矩阵 (Matrices)</span></h3><h4 id='221-矩阵的基本概念'><strong><span>2.2.1 矩阵的基本概念</span></strong></h4><ul><li><p><span>矩阵是向量的二维推广，拥有行和列两个索引 。</span></p></li><li><p><strong><span>内部存储</span></strong><span>: R在内部以“列主序 (column-major mode)”存储矩阵，即按列将所有元素堆叠成一个长向量 。这与C或Java中的“行主序 (row-major mode)”不同 。</span></p></li></ul><h4 id='222-创建矩阵'><strong><span>2.2.2 创建矩阵</span></strong></h4><ul><li><p><span>主要有三种方法可以创建矩阵：</span></p><ol start='' ><li><p><strong><span>使用 </span><code>matrix()</code><span> 函数</span></strong><span>: 这是最直接的方法。通过提供一个数据向量，并指定行数（</span><code>nrow</code><span>）或列数（</span><code>ncol</code><span>）来创建 。</span></p></li><li><p><strong><span>按行合并 </span><code>rbind()</code></strong><span>: 使用 </span><code>rbind()</code><span> 函数可以将多个向量作为行合并成一个矩阵 。也可以用它给现有矩阵增加新行 。</span></p></li><li><p><strong><span>按列合并 </span><code>cbind()</code></strong><span>: 与 </span><code>rbind()</code><span> 类似，</span><code>cbind()</code><span> 将多个向量作为列合并成一个矩阵 。</span></p></li></ol></li></ul><h4 id='223-矩阵维度与命名'><strong><span>2.2.3 矩阵维度与命名</span></strong></h4><ul><li><p><strong><span>获取维度</span></strong><span>:</span></p><ul><li><p><code>nrow(B)</code><span>: 获取矩阵B的行数 。</span></p></li><li><p><code>ncol(B)</code><span>: 获取矩阵B的列数 。</span></p></li><li><p><code>dim(B)</code><span>: 以向量形式返回矩阵B的维度（行数, 列数） 。</span></p></li><li><p><code>length(B)</code><span>: 返回矩阵B中元素的总数 。</span></p></li></ul></li><li><p><strong><span>命名行列</span></strong><span>:</span></p><ul><li><p><span>使用 </span><code>rownames()</code><span> 和 </span><code>colnames()</code><span> 函数可以为矩阵的行和列命名 。这使得代码更具可读性 。</span></p></li></ul></li></ul><h4 id='224-访问与修改矩阵元素'><strong><span>2.2.4 访问与修改矩阵元素</span></strong></h4><ul><li><p><strong><span>访问单个元素</span></strong><span>: 使用 </span><code>B[row, col]</code><span> 的形式来访问或修改特定位置的元素 。</span></p></li><li><p><strong><span>访问子矩阵</span></strong><span>:</span></p><ul><li><p><span>可以通过在方括号中提供行和列的索引向量来提取任意子矩阵 。例如 </span><code>B[1, 1:2]</code><span> 。</span></p></li><li><p><span>若要选择整行或整列，可以将对应的维度留空。例如 </span><code>B[1,]</code><span> 提取第一行 ，</span><code>B[,3]</code><span> 提取第三列 。</span></p></li></ul></li><li><p><strong><code>drop=FALSE</code><span> 参数</span></strong><span>: 当提取的子矩阵仅有一行或一列时，R默认会将其简化为向量 。为防止这种情况发生，可以添加 </span><code>drop=FALSE</code><span> 参数 。</span></p></li><li><p><strong><span>逻辑索引</span></strong><span>: 与向量类似，也可以使用逻辑表达式来筛选和修改矩阵元素 。例如，</span><code>B[B &gt; 5] &lt;- 6</code><span> 会将矩阵B中所有大于5的元素替换为6 。</span></p></li></ul><hr /><h3 id='23-矩阵运算与线性代数'><span>2.3. 矩阵运算与线性代数</span></h3><h4 id='231-矩阵乘法'><strong><span>2.3.1 矩阵乘法</span></strong></h4><ul><li><p><strong><span>元素级乘法</span></strong><span>: 普通的 </span><code>*</code><span> 运算符用于矩阵时，执行的是元素对元素的乘法 。</span></p></li><li><p><strong><span>矩阵乘法</span></strong><span>: 要执行标准的矩阵乘法，必须使用 </span><code>%*%</code><span> 运算符 。</span></p></li></ul><h4 id='232-常用线性代数函数'><strong><span>2.3.2 常用线性代数函数</span></strong></h4><ul><li><p><strong><span>转置 (Transpose)</span></strong><span>: 使用 </span><code>t(A)</code><span> 函数计算矩阵A的转置 (</span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="3.129ex" height="1.89ex" role="img" focusable="false" viewBox="0 -835.3 1383.1 835.3" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-17-TEX-I-1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path><path id="MJX-17-TEX-N-22A4" d="M55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><use data-c="1D434" xlink:href="#MJX-17-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(783,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="22A4" xlink:href="#MJX-17-TEX-N-22A4"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>A</mi><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">⊤</mi></mrow></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">A^{\top}</script><span>) 。</span></p></li><li><p><strong><span>叉乘 (Cross Product)</span></strong><span>: 使用 </span><code>crossprod(A)</code><span> 可以高效地计算 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="4.826ex" height="1.89ex" role="img" focusable="false" viewBox="0 -835.3 2133.1 835.3" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: 0px;"><defs><path id="MJX-18-TEX-I-1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path><path id="MJX-18-TEX-N-22A4" d="M55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><use data-c="1D434" xlink:href="#MJX-18-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(783,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use data-c="22A4" xlink:href="#MJX-18-TEX-N-22A4"></use></g></g></g><g data-mml-node="mi" transform="translate(1383.1,0)"><use data-c="1D434" xlink:href="#MJX-18-TEX-I-1D434"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>A</mi><mrow data-mjx-texclass="ORD"><mi mathvariant="normal">⊤</mi></mrow></msup><mi>A</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">A^{\top}A</script><span> 。</span></p></li><li><p><strong><span>矩阵求逆 (Inverse)</span></strong><span>: </span><code>solve(C)</code><span> 用于计算方阵C的逆矩阵 。</span></p></li><li><p><strong><span>解线性方程组</span></strong><span>:</span></p><ul><li><p><code>solve(A, b)</code><span> 用于求解形如 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="6.737ex" height="1.805ex" role="img" focusable="false" viewBox="0 -716 2977.6 798" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.186ex;"><defs><path id="MJX-19-TEX-I-1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path><path id="MJX-19-TEX-I-1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path><path id="MJX-19-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-19-TEX-I-1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D434" xlink:href="#MJX-19-TEX-I-1D434"></use></g><g data-mml-node="mi" transform="translate(750,0)"><use data-c="1D467" xlink:href="#MJX-19-TEX-I-1D467"></use></g><g data-mml-node="mo" transform="translate(1492.8,0)"><use data-c="3D" xlink:href="#MJX-19-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(2548.6,0)"><use data-c="1D44F" xlink:href="#MJX-19-TEX-I-1D44F"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>A</mi><mi>z</mi><mo>=</mo><mi>b</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">Az=b</script><span> 的线性方程组 。</span></p></li><li><p><span>这种方法比先计算逆矩阵再相乘（</span><code>solve(A) %*% b</code><span>）效率更高 。</span></p></li></ul></li></ul><h4 id='233-矩阵分解'><strong><span>2.3.3 矩阵分解</span></strong></h4><ul><li><p><strong><span>Choleski分解</span></strong><span>:</span></p><ul><li><p><span>对于对称正定矩阵A，可以将其分解为 </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="9.109ex" height="2.09ex" role="img" focusable="false" viewBox="0 -841.7 4026.4 923.7" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.186ex;"><defs><path id="MJX-20-TEX-I-1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path><path id="MJX-20-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-20-TEX-I-1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path><path id="MJX-20-TEX-I-1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D434" xlink:href="#MJX-20-TEX-I-1D434"></use></g><g data-mml-node="mo" transform="translate(1027.8,0)"><use data-c="3D" xlink:href="#MJX-20-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(2083.6,0)"><use data-c="1D43F" xlink:href="#MJX-20-TEX-I-1D43F"></use></g><g data-mml-node="msup" transform="translate(2764.6,0)"><g data-mml-node="mi"><use data-c="1D43F" xlink:href="#MJX-20-TEX-I-1D43F"></use></g><g data-mml-node="mi" transform="translate(714,363) scale(0.707)"><use data-c="1D447" xlink:href="#MJX-20-TEX-I-1D447"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>A</mi><mo>=</mo><mi>L</mi><msup><mi>L</mi><mi>T</mi></msup></math></mjx-assistive-mml></mjx-container><script type="math/tex">A = LL^T</script><span>，其中L是一个下三角矩阵 。</span></p></li><li><p><span>在R中，使用 </span><code>chol()</code><span> 函数进行计算 。</span></p></li></ul></li><li><p><strong><span>特征值与特征向量 (Eigenvalues &amp; Eigenvectors)</span></strong><span>:</span></p><ul><li><p><code>eigen(A)</code><span> 函数用于计算方阵A的特征值和特征向量 。</span></p></li><li><p><span>返回结果是一个列表，其中 </span><code>$values</code><span> 存储特征值，</span><code>$vectors</code><span> 存储对应的特征向量 。</span></p></li></ul></li></ul><h3 id='31-r中的更多数据类型'><span>3.1. R中的更多数据类型</span></h3><h4 id='311-字符字符串-character-strings'><strong><span>3.1.1 字符字符串 (Character Strings)</span></strong></h4><ul><li><p><strong><span>定义</span></strong><span>: 在R中，可以使用双引号 </span><code>&quot;</code><span> 或单引号 </span><code>&#39;</code><span> 来定义字符串 。</span></p></li><li><p><strong><span>打印</span></strong><span>:</span></p><ul><li><p><span>直接使用变量名或 </span><code>print()</code><span> 函数会显示字符串的引用格式（带引号） 。</span></p></li><li><p><span>使用 </span><code>cat()</code><span> 函数可以打印字符串的原始内容，不带引号 。</span></p></li></ul></li><li><p><strong><span>操作</span></strong><span>:</span></p><ul><li><p><span>R有多种内置函数用于操作字符串，但使用 </span><code>stringr</code><span> 包中的函数通常更简单 。</span></p></li><li><p><span>可以使用 </span><code>str_c()</code><span> (来自 </span><code>stringr</code><span> 包) 或 </span><code>paste()</code><span> (基础R函数) 来连接两个字符串 。</span></p></li></ul></li><li><p><strong><span>限制与比较</span></strong><span>:</span></p><ul><li><p><span>不能对字符向量进行任何算术运算（如加法），否则会报错 。</span></p></li><li><p><span>字符串之间的比较是基于</span><strong><span>词典顺序 (lexicographic ordering)</span></strong><span> 。例如，</span><code>&quot;apple&quot; &gt; &quot;pear&quot;</code><span> 的结果是 </span><code>FALSE</code><span> 。</span></p></li><li><p><span>这种比较方式在处理包含数字的字符串时可能会产生意外结果，例如 </span><code>&quot;120&quot; &gt; &quot;5&quot;</code><span> 的结果是 </span><code>FALSE</code><span>，因为在词典顺序中，&quot;120&quot; 是以 &quot;1&quot; 开头，排在以 &quot;5&quot; 开头的字符串之前 。</span></p></li></ul></li></ul><h4 id='312-因子-factors'><strong><span>3.1.2 因子 (Factors)</span></strong></h4><ul><li><p><strong><span>定义</span></strong><span>: 因子是为分类变量设计的特殊数据类型 。与字符向量的主要区别在于，因子的值只能是预先定义好的一组</span><strong><span>水平 (levels)</span></strong><span> 。</span></p></li><li><p><strong><span>创建</span></strong><span>: 可以使用 </span><code>factor()</code><span> 函数将任何向量转换为因子 。该函数可以接受 </span><code>levels</code><span> 和 </span><code>labels</code><span> 参数来设置允许的值和它们在显示时对应的标签 。</span></p></li><li><p><strong><span>修改</span></strong><span>:</span></p><ul><li><p><span>你可以将因子的元素修改为任何一个已存在的水平值 。</span></p></li><li><p><span>你不能将元素修改为一个不存在的水平值，这样做会产生一个警告，并且该元素会被设置为 </span><code>NA</code><span> 。</span></p></li><li><p><span>要添加新的可允许值，必须先使用 </span><code>levels()</code><span> 函数扩展水平集 。</span></p></li></ul></li><li><p><strong><span>转换</span></strong><span>: 使用 </span><code>unclass()</code><span> 函数可以将因子转换回其原始的数值格式（即其内部存储的整数代码） 。</span></p></li></ul><h4 id='313-数据类型转换与缺失值'><strong><span>3.1.3 数据类型转换与缺失值</span></strong></h4><ul><li><p><strong><span>类型转换</span></strong><span>: 可以使用 </span><code>as.&lt;目标类型&gt;()</code><span> 格式的函数在不同数据类型之间进行转换，例如 </span><code>as.numeric()</code><span>, </span><code>as.character()</code><span> 等 。</span></p></li><li><p><strong><span>缺失值 (NA)</span></strong><span>:</span></p><ul><li><p><span>R使用特殊值 </span><code>NA</code><span> 来表示缺失的数据 。它不同于 </span><code>NaN</code><span> (&quot;Not a Number&quot;)，</span><code>NaN</code><span> 通常是计算出错的结果 。</span></p></li><li><p><span>任何涉及 </span><code>NA</code><span> 的计算，其结果通常也是 </span><code>NA</code><span> 。</span></p></li><li><p><span>要在计算中忽略 </span><code>NA</code><span>，可以使用 </span><code>na.omit()</code><span> 函数移除所有NA值，或者在支持的函数（如 </span><code>mean()</code><span>）中使用 </span><code>na.rm=TRUE</code><span> 参数 。</span></p></li><li><p><strong><span>检测缺失值</span></strong><span>: 必须使用 </span><code>is.na()</code><span> 函数来检测一个值是否为 </span><code>NA</code><span> 。不能使用 </span><code>== NA</code><span> 来进行判断，因为这种比较的结果只会是 </span><code>NA</code><span> 。</span></p></li></ul></li></ul><hr /><h3 id='32-列表-lists'><span>3.2. 列表 (Lists)</span></h3><ul><li><p><strong><span>创建</span></strong><span>: 使用 </span><code>list()</code><span> 命令可以创建一个列表 。列表非常灵活，它的元素可以是任何数据类型（如向量、矩阵、甚至其他列表），并且每个元素的长度可以不同 。</span></p></li><li><p><strong><span>命名</span></strong><span>: 良好的编程习惯是为列表的元素命名 。可以通过 </span><code>names()</code><span> 函数或在创建列表时直接命名 。</span></p></li><li><p><strong><span>访问元素</span></strong><span>:</span></p><ul><li><p><strong><span>提取单个元素本身</span></strong><span>: 使用双重方括号 </span><code>[[...]]</code><span> 或美元符号 </span><code>$</code><span> 。例如 </span><code>example1[[1]]</code><span> 和 </span><code>example1$a</code><span> 都返回列表的第一个元素 。</span></p></li><li><p><strong><span>提取子列表</span></strong><span>: 使用单重方括号 </span><code>[...]</code><span> 。这会返回一个</span><strong><span>新的列表</span></strong><span>，其中包含你指定的元素 。例如 </span><code>example1[1]</code><span> 返回一个只包含第一个元素的列表，而不是第一个元素本身 。</span></p></li></ul></li><li><p><strong><span>普遍性</span></strong><span>: 列表在R中无处不在，许多R函数的返回值就是列表 。例如，线性模型函数 </span><code>lm()</code><span> 的返回对象 </span><code>fit</code><span> 就是一个包含系数、残差等多个组件的列表 。</span></p></li></ul><hr /><h3 id='33-数据框-data-frames'><span>3.3. 数据框 (Data Frames)</span></h3><h4 id='331-数据框基础'><strong><span>3.3.1 数据框基础</span></strong></h4><ul><li><p><strong><span>必要性</span></strong><span>: 矩阵要求所有元素必须是相同的数据类型 。如果将一个字符型列（如性别）添加到一个数值型矩阵中，R会将所有数值强制转换为字符，这会导致后续的数值比较和计算出错 。数据框就是为了解决这个问题而设计的，它允许不同列包含不同的数据类型 。</span></p></li><li><p><strong><span>创建</span></strong><span>:</span></p><ul><li><p><span>可以使用 </span><code>data.frame()</code><span> 函数直接创建 。</span></p></li><li><p><span>可以使用 </span><code>as.data.frame()</code><span> 将一个矩阵转换为数据框 。</span></p></li></ul></li><li><p><strong><span>双重特性</span></strong><span>: 数据框既像矩阵，又像列表 。</span></p><ul><li><p><strong><span>像矩阵</span></strong><span>: 拥有行名和列名，可以使用 </span><code>[行, 列]</code><span> 的语法进行子集选择 。</span></p></li><li><p><strong><span>像列表</span></strong><span>: 每一列可以看作是列表的一个元素，因此可以使用 </span><code>$</code><span> 或 </span><code>[[...]]</code><span> 来访问单个列 。例如，</span><code>kids$age</code><span>, </span><code>kids[,&quot;age&quot;]</code><span>, 和 </span><code>kids[[&quot;age&quot;]]</code><span> 都是等效的 。</span></p></li></ul></li></ul><h4 id='332-数据框操作'><strong><span>3.3.2 数据框操作</span></strong></h4><ul><li><p><strong><span>添加/转换列</span></strong><span>:</span></p><ul><li><p><span>可以使用 </span><code>cbind()</code><span> 或直接用 </span><code>$</code><span> 赋值来添加新列 。</span></p></li><li><p><span>推荐使用 </span><code>transform()</code><span> 函数，它的语法更简洁，可以避免在代码中重复写数据框的名称 。</span></p></li></ul></li><li><p><strong><span>删除列</span></strong><span>:</span></p><ul><li><p><span>可以使用矩阵风格的负索引，例如 </span><code>chol[,-3]</code><span> 。</span></p></li><li><p><span>可以使用列表风格的赋值，将要删除的列赋值为 </span><code>NULL</code><span>，例如 </span><code>chol$trig &lt;- NULL</code><span> 。</span></p></li></ul></li><li><p><strong><span>子集筛选 (行)</span></strong><span>:</span></p><ul><li><p><span>可以使用矩阵风格的逻辑索引，例如 </span><code>chol[chol$smoke!=&quot;no&quot;,]</code><span> 。但如果条件中包含 </span><code>NA</code><span>，结果中会产生整行为 </span><code>NA</code><span> 的行 。</span></p></li><li><p><span>推荐使用 </span><code>subset()</code><span> 函数，它的语法更清晰，并且能正确处理 </span><code>NA</code><span> 值，不会在结果中产生 </span><code>NA</code><span> 行 。</span></p></li></ul></li><li><p><strong><span>排序</span></strong><span>:</span></p><ul><li><p><span>要对整个数据框按某一列进行排序，不能直接用 </span><code>sort()</code><span> 。</span></p></li><li><p><span>应使用 </span><code>order()</code><span> 函数获取排序所需的索引排列，然后将这个排列应用到数据框的行上 。例如: </span><code>chol[order(chol$age),]</code><span> 。</span></p></li></ul></li></ul><h4 id='333-数据框管理'><strong><span>3.3.3 数据框管理</span></strong></h4><ul><li><p><strong><code>attach()</code><span> 函数</span></strong><span>:</span></p><ul><li><p><code>attach(df)</code><span> 可以将一个数据框的列加载到当前工作环境中，这样就可以直接通过列名访问，无需再写 </span><code>df$</code><span> 。</span></p></li><li><p><strong><span>危险</span></strong><span>: </span><code>attach()</code><span> 创建的是数据的</span><strong><span>副本</span></strong><span>，而不是链接 。如果你修改了这个副本变量，原始数据框中的数据</span><strong><span>不会</span></strong><span>改变，这会导致数据不一致，极易引发错误 。</span></p></li><li><p><strong><span>建议</span></strong><span>: 最好避免使用 </span><code>attach()</code><span> 。如果一定要用，请记住：</span><strong><span>绝不要修改被 attach 的数据！</span></strong><span> 。</span></p></li></ul></li><li><p><strong><code>merge()</code><span> 函数</span></strong><span>:</span></p><ul><li><p><span>用于根据一个或多个公共的键（key）来合并两个数据框 。</span></p></li><li><p><span>默认情况下，</span><code>merge</code><span> 会使用两个数据框中共有的列名作为键 。</span></p></li><li><p><span>最佳实践是使用 </span><code>by</code><span> 参数明确指定用于合并的键 。</span></p></li><li><p><span>可以使用 </span><code>all.x=TRUE</code><span> 或 </span><code>all.y=TRUE</code><span> 来保留其中一个数据框的所有记录（类似于SQL中的左连接或右连接） 。</span></p></li></ul></li></ul><hr /><h3 id='34-数据的导入与导出'><span>3.4. 数据的导入与导出</span></h3><h4 id='341-r原生数据格式-rdata'><strong><span>3.4.1 R原生数据格式 (.RData)</span></strong></h4><ul><li><p><strong><span>优点</span></strong><span>: </span><code>.RData</code><span> 文件是R的内部二进制格式，能精确地存储R对象，加载后能保证数据被完全复现 。</span></p></li><li><p><strong><span>函数</span></strong><span>:</span></p><ul><li><p><code>save(x, file=&quot;...&quot;)</code><span>: 保存一个或多个对象 。</span></p></li><li><p><code>save.image(file=&quot;...&quot;)</code><span>: 保存整个工作空间的所有对象 。</span></p></li><li><p><code>load(file=&quot;...&quot;)</code><span>: 加载 </span><code>.RData</code><span> 文件 。</span></p></li></ul></li></ul><h4 id='342-文本文件和csv文件'><strong><span>3.4.2 文本文件和CSV文件</span></strong></h4><ul><li><p><strong><span>读取前的准备</span></strong><span>: 在读取文本文件前，最好先用文本编辑器打开它，确认以下信息 ：</span></p><ul><li><p><strong><span>列名 (Header)</span></strong><span>: 第一行是数据还是列名？ </span></p></li><li><p><strong><span>分隔符 (Delimiter)</span></strong><span>: 列与列之间用什么字符分隔（如空格、逗号、制表符等）？ </span></p></li><li><p><strong><span>缺失值编码</span></strong><span>: 缺失值是如何表示的（如 </span><code>NA</code><span>, </span><code>.</code><span> , </span><code>*</code><span> 等）？ </span></p></li></ul></li><li><p><strong><span>读取函数</span></strong><span>:</span></p><ul><li><p><code>read.table()</code><span>: 用于读取通用格式的文本文件 。它有几个重要参数：</span></p><ul><li><p><code>header=TRUE</code><span>: 如果第一行是列名 。</span></p></li><li><p><code>sep=&quot;...&quot;</code><span>: 指定分隔符，如 </span><code>sep=&quot;,&quot;</code><span> 。</span></p></li><li><p><code>na.strings=&quot;...&quot;</code><span>: 指定代表缺失值的字符串 。</span></p></li></ul></li><li><p><code>read.csv()</code><span>: </span><code>read.table</code><span> 的一个特例，默认设置了 </span><code>header=TRUE</code><span> 和 </span><code>sep=&quot;,&quot;</code><span>，专门用于读取CSV文件 。</span></p></li></ul></li><li><p><strong><span>读取后的检查</span></strong><span>:</span></p><ul><li><p><span>数据读入后，务必使用 </span><code>head()</code><span> 查看前几行，确保数据格式正确 。</span></p></li><li><p><span>使用 </span><code>sapply(df, class)</code><span> 或 </span><code>str(df)</code><span> 检查每一列的数据类型是否符合预期 。</span></p></li></ul></li><li><p><strong><span>导出函数</span></strong><span>:</span></p><ul><li><p><code>write.table()</code><span>: 将数据框写入文本文件 。</span></p></li><li><p><code>write.csv()</code><span>: 将数据框写入CSV文件 。</span></p></li></ul></li></ul><h4 id='343-其他文件格式'><strong><span>3.4.3 其他文件格式</span></strong></h4><ul><li><p><span>有许多R包可以用来读取其他软件（如Excel, SPSS, Stata）的文件格式 。</span></p></li><li><p><span>常用包包括 </span><code>readxl</code><span> (用于.xls和.xlsx) 和 </span><code>foreign</code><span> (用于SPSS, Stata) 。</span></p></li></ul></div></div>
</body>
</html>